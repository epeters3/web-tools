"use strict";(self.webpackChunkweb_tools=self.webpackChunkweb_tools||[]).push([[273],{4925:function(e,t,a){a.r(t),a.d(t,{Head:function(){return x}});var n=a(6540),r=a(7512),l=a(8031),i=a(6831),c=a(2477),s=a(4976),o=a(9502),m=a(8763),u=a(1224),d=a(4073),E=a(3829),g=a(1048),v=a(9352),A=a(5836),p=a(7045),h=a(1773);const b=e=>{let{isOpen:t,onClose:a,onSave:r}=e;const{0:d,1:v}=(0,n.useState)(""),{0:A,1:p}=(0,n.useState)(0),{0:h,1:b}=(0,n.useState)(100),[k,x]=n.useState(void 0);return n.createElement(l.A,{open:t,onClose:a},n.createElement(i.A,null,"Edit Exercise"),n.createElement(c.A,null,n.createElement(g.a,{gap:2,sx:{marginTop:e=>e.spacing(2)}},n.createElement(s.A,{label:"Name",value:d,onChange:e=>v(e.target.value)}),n.createElement(s.A,{label:"Min Weight",type:"number",value:A,onChange:e=>p(parseInt(e.target.value))}),n.createElement(s.A,{label:"Max Weight",type:"number",value:h,onChange:e=>b(parseInt(e.target.value))}),k?n.createElement(o.A,{severity:"error"},k):null)),n.createElement(m.A,null,n.createElement(u.A,{onClick:()=>{if(!d)return void x("Name is required");if(A<0||h<0)return void x("Min Weight and Max Weight must both be non-negative");if(h<A)return void x("Max Weight cannot be smaller than Min Weight");x(void 0);const e={id:(0,E.A)(),name:d,minWeight:A,maxWeight:h};r(e),v(""),p(0),b(0),a()}},"Save"),n.createElement(u.A,{onClick:a},"Cancel")))},k=e=>{let{numDays:t}=e;const a=(0,v.kk)((()=>A.db.exerciseSets.orderBy("createdAt").reverse().limit(30*t).toArray())),r=(0,v.kk)((()=>A.db.exercises.toArray())),l=void 0===a||void 0===r,i=n.useMemo((()=>(0,h.p)(a||[],r||[]).slice(0,t)),[a]);return l?n.createElement(p.A,null):0===a.length?null:n.createElement(g.a,{gap:2},n.createElement(d.A,{variant:"h5"},"Recent Exercises"),i.map((e=>{let{date:t,sets:a}=e;return n.createElement(g.a,{key:t,gap:1},n.createElement(d.A,{variant:"h6"},t),a.map((e=>{let{exercise:t,sets:a}=e;return n.createElement(g.a,{key:t.id,gap:1},n.createElement(d.A,{variant:"subtitle1",sx:{fontWeight:"bold"}},t.name),a.map((e=>n.createElement(d.A,{key:e.id,variant:"body2"},e.weight," lbs x ",e.reps," reps at"," ",new Date(e.createdAt).toLocaleTimeString()))))})))})))};t.default=()=>{const e=(0,v.kk)((()=>A.db.exercises.orderBy("name").toArray())),[t,a]=n.useState(!1);if(void 0===e)return n.createElement(p.A,null);const l=e.length>0;return n.createElement(r.M,null,n.createElement(b,{isOpen:t,onClose:()=>a(!1),onSave:e=>A.db.exercises.put(e,e.id)}),n.createElement(g.a,{gap:2},n.createElement(d.A,{variant:"h4"},"Fitness Tracker"),l?n.createElement(n.Fragment,null,n.createElement(d.A,{variant:"body1"},"Let's Track!"),e.map((e=>n.createElement(u.A,{key:e.id,href:`./exercise?exerciseId=${e.id}`},e.name)))):null,n.createElement(u.A,{variant:"outlined",onClick:()=>a(!0)},"Create an Exercise"),n.createElement(k,{numDays:4})))};const x=()=>n.createElement(r.Y,{title:"Fitness Tracker"})}}]);
//# sourceMappingURL=component---src-pages-fitness-tracker-index-tsx-04b2914d40efcbb6f089.js.map